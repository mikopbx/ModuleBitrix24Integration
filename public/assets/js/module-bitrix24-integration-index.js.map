{"version":3,"file":"module-bitrix24-integration-index.js","names":["ModuleBitrix24Integration","$formObj","$","$submitButton","$statusToggle","$moduleStatus","$dirrtyField","$usersCheckBoxes","$globalSearch","$recordsTable","$addNewButton","$elRegion","$elAppData","inputNumberJQTPL","$maskList","getNewRecordsAJAXUrl","concat","globalRootUrl","validateRules","portal","identifier","rules","type","prompt","globalTranslate","mod_b24_i_ValidatePortalEmpty","client_id","depends","mod_b24_i_ValidateClientIDEmpty","client_secret","mod_b24_i_ValidateClientSecretEmpty","onChangeRegion","region","val","form","show","hide","onChangeField","updateAuthInfo","e","data","originalEvent","code","undefined","post","result","console","log","popup","close","checkbox","initialize","_this","checkStatusToggle","window","addEventListener","initializeForm","dropdown","change","each","attr","tab","DataTable","lengthChange","paging","info","columns","orderable","searchable","drawCallback","index","obj","values","makeDropdownList","onChange","changeCardModeInList","text","parent","order","language","SemanticLocalization","dataTableLocalisation","bind","on","Config","pbxUrl","url","open","Math","random","trigger","onChecked","number","removeClass","onUnchecked","addClass","keyCode","length","applyFilter","dataTable","serverSide","processing","ajax","dataSrc","sDom","deferRender","bAutoWidth","createdRow","row","templateDisable","disabled","templateName","name","templateNumber","templateDid","alias","templateDeleteButton","id","bt_ToolTipDelete","eq","html","initializeInputmask","find","Form","checkValues","ordering","target","transition","closest","preventDefault","remove","append","floor","rowTemplate","before","focus","selected","push","value","$choice","ModuleBitrix24IntegrationStatusWorker","$el","masksSort","InputMaskPatterns","inputmasks","inputmask","definitions","validator","cardinality","showMaskOnHover","oncomplete","cbOnCompleteNumber","onBeforePaste","cbOnNumberBeforePaste","match","replace","list","listKey","pastedValue","didEl","cbBeforeSendForm","settings","arrExternalLines","externalLines","JSON","stringify","arrUsers","uname","user_id","open_card_mode","comment","cbAfterSendForm","document","ready"],"sources":["src/module-bitrix24-integration-index.js"],"sourcesContent":["/*\n * Copyright © MIKO LLC - All Rights Reserved\n * Unauthorized copying of this file, via any medium is strictly prohibited\n * Proprietary and confidential\n * Written by Alexey Portnov, 5 2020\n */\n\n/* global globalRootUrl, globalTranslate, Form, SemanticLocalization, InputMaskPatterns  */\n\nconst ModuleBitrix24Integration = {\n\t$formObj: $('#module-bitrix24-integration-form'),\n\t$submitButton: $('#submitbutton'),\n\t$statusToggle: $('#module-status-toggle'),\n\t$moduleStatus: $('#status'),\n\t$dirrtyField: $('#dirrty'),\n\t$usersCheckBoxes: $('#extensions-table .checkbox'),\n\n\t$globalSearch: $('#globalsearch'),\n\t$recordsTable: $('#external-line-table'),\n\t$addNewButton: $('#add-new-external-line-button'),\n\t$elRegion: $('#b24_region'),\n\t$elAppData: $('#b24-app-data'),\n\n\tinputNumberJQTPL: 'input.external-number',\n\t$maskList: null,\n\tgetNewRecordsAJAXUrl: `${globalRootUrl}module-bitrix24-integration/getExternalLines`,\n\n\tvalidateRules: {\n\t\tportal: {\n\t\t\tidentifier: 'portal',\n\t\t\trules: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'empty',\n\t\t\t\t\tprompt: globalTranslate.mod_b24_i_ValidatePortalEmpty,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\tclient_id: {\n\t\t\tidentifier: 'client_id',\n\t\t\tdepends: 'isREST',\n\t\t\trules: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'empty',\n\t\t\t\t\tprompt: globalTranslate.mod_b24_i_ValidateClientIDEmpty,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\tclient_secret: {\n\t\t\tidentifier: 'client_secret',\n\t\t\tdepends: 'isREST',\n\t\t\trules: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'empty',\n\t\t\t\t\tprompt: globalTranslate.mod_b24_i_ValidateClientSecretEmpty,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t},\n\tonChangeRegion(){\n\t\tlet region = ModuleBitrix24Integration.$elRegion.val();\n\t\tif(region === 'REST_API'){\n\t\t\tModuleBitrix24Integration.$formObj.form('set value', 'isREST', true);\n\t\t\tModuleBitrix24Integration.$elAppData.show();\n\t\t}else{\n\t\t\tModuleBitrix24Integration.$formObj.form('set value', 'isREST', '');\n\t\t\tModuleBitrix24Integration.$elAppData.hide();\n\t\t}\n\t\tModuleBitrix24Integration.onChangeField();\n\t},\n\n\tupdateAuthInfo(e) {\n\t\tlet data = e.originalEvent.data;\n\t\tif(typeof data !== 'string' && data.code !== undefined){\n\t\t\tdata.region = ModuleBitrix24Integration.$elRegion.val();\n\t\t\tdata.portal = $('#portal').val();\n\t\t\t$.post(`${globalRootUrl}module-bitrix24-integration/activateCode`, data, function( result ) {\n\t\t\t\tconsole.log(result);\n\t\t\t});\n\t\t\tModuleBitrix24Integration.popup.close();\n\t\t}\n\t},\n\n\tonChangeField(){\n\t\tif($('#create-lead').checkbox('is checked')){\n\t\t\t$('#lead-type').show()\n\t\t}else{\n\t\t\t$('#lead-type').hide()\n\t\t}\n\t},\n\tinitialize() {\n\t\tModuleBitrix24Integration.checkStatusToggle();\n\t\twindow.addEventListener('ModuleStatusChanged', ModuleBitrix24Integration.checkStatusToggle);\n\t\tModuleBitrix24Integration.initializeForm();\n\t\t$('.dropdown').dropdown();\n\n\t\tModuleBitrix24Integration.onChangeRegion();\n\t\tModuleBitrix24Integration.onChangeField();\n\t\tModuleBitrix24Integration.$elRegion.change(ModuleBitrix24Integration.onChangeRegion);\n\n\t\t$('.avatar').each(() => {\n\t\t\tif ($(this).attr('src') === '') {\n\t\t\t\t$(this).attr('src', `${globalRootUrl}assets/img/unknownPerson.jpg`);\n\t\t\t}\n\t\t});\n\n\t\t$('#extensions-menu .item').tab();\n\n\t\t$('#extensions-table').DataTable({\n\t\t\tlengthChange: false,\n\t\t\tpaging: false,\n\t\t\tinfo: false,\n\t\t\tcolumns: [\n\t\t\t\t{ orderable: false, searchable: false },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t],\n\t\t\t/**\n\t\t\t * Draw event - fired once the table has completed a draw.\n\t\t\t */\n\t\t\tdrawCallback() {\n\t\t\t\t$('#extensions-table .select-group').each((index, obj) => {\n\t\t\t\t\t$(obj).dropdown({\n\t\t\t\t\t\tvalues: ModuleBitrix24Integration.makeDropdownList($(obj).attr('data-value')),\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t$('#extensions-table .select-group').dropdown({\n\t\t\t\t\tonChange: ModuleBitrix24Integration.changeCardModeInList,\n\t\t\t\t});\n\n\t\t\t\t$('#extensions-table div.text').each((index, obj) => {\n\t\t\t\t\t$(obj).text(globalTranslate['mod_b24_i_OPEN_CARD_'+$(obj).parent().attr('data-value')]);\n\t\t\t\t});\n\t\t\t},\n\t\t\torder: [1, 'asc'],\n\t\t\tlanguage: SemanticLocalization.dataTableLocalisation,\n\t\t});\n\t\t$(window).bind('message',  ModuleBitrix24Integration.updateAuthInfo);\n\t\t$(\"#login-button\").on('click', function (e) {\n\t\t\tlet portal       = $('#portal').val();\n\t\t\t$.post(`${Config.pbxUrl}/admin-cabinet/module-bitrix24-integration/getAppId`, {'region': $('#b24_region').val()}, function( data ) {\n\t\t\t\tlet url \t\t = `https://${portal}/oauth/authorize/?client_id=${data.client_id}&`;\n\t\t\t\tModuleBitrix24Integration.popup = window.open(url, 'Auth', 'scrollbars, status, resizable, width=750, height=580');\n\t\t\t});\n\t\t});\n\t\t$('#create-lead').checkbox({\n\t\t\tonChange() {\n\t\t\t\tModuleBitrix24Integration.onChangeField()\n\t\t\t}\n\t\t});\n\t\tModuleBitrix24Integration.$usersCheckBoxes.checkbox({\n\t\t\tonChange() {\n\t\t\t\tModuleBitrix24Integration.$dirrtyField.val(Math.random());\n\t\t\t\tModuleBitrix24Integration.$dirrtyField.trigger('change');\n\t\t\t\tModuleBitrix24Integration.onChangeField()\n\t\t\t},\n\t\t\tonChecked() {\n\t\t\t\tconst number = $(this).attr('data-value');\n\t\t\t\t$(`#${number} .disability`).removeClass('disabled');\n\t\t\t},\n\t\t\tonUnchecked() {\n\t\t\t\tconst number = $(this).attr('data-value');\n\t\t\t\t$(`#${number} .disability`).addClass('disabled');\n\t\t\t},\n\t\t});\n\t\tModuleBitrix24Integration.$usersCheckBoxes.checkbox('attach events', '.check.button', 'check');\n\t\tModuleBitrix24Integration.$usersCheckBoxes.checkbox('attach events', '.uncheck.button', 'uncheck');\n\n\t\tModuleBitrix24Integration.$globalSearch.on('keyup', (e) => {\n\t\t\tif (e.keyCode === 13\n\t\t\t\t|| e.keyCode === 8\n\t\t\t\t|| ModuleBitrix24Integration.$globalSearch.val().length === 0) {\n\t\t\t\tconst text = `${ModuleBitrix24Integration.$globalSearch.val()}`;\n\t\t\t\tModuleBitrix24Integration.applyFilter(text);\n\t\t\t}\n\t\t});\n\n\t\tModuleBitrix24Integration.$recordsTable.dataTable({\n\t\t\tserverSide: true,\n\t\t\tprocessing: true,\n\t\t\tajax: {\n\t\t\t\turl: ModuleBitrix24Integration.getNewRecordsAJAXUrl,\n\t\t\t\ttype: 'POST',\n\t\t\t\tdataSrc: 'data',\n\t\t\t},\n\t\t\tcolumns: [\n\t\t\t\t{ data: null },\n\t\t\t\t{ data: 'name' },\n\t\t\t\t{ data: 'number' },\n\t\t\t\t{ data: 'alias' },\n\t\t\t\t{ data: null },\n\t\t\t],\n\t\t\tpaging: false,\n\t\t\t// scrollY: $(window).height() - ModuleBitrix24Integration.$recordsTable.offset().top-200,\n\t\t\t// stateSave: true,\n\t\t\tsDom: 'rtip',\n\t\t\tdeferRender: true,\n\t\t\tbAutoWidth: false,\n\t\t\tinfo: false,\n\t\t\t// scrollCollapse: true,\n\t\t\t// scroller: true,\n\t\t\t/**\n\t\t\t * Конструктор строки записи\n\t\t\t * @param row\n\t\t\t * @param data\n\t\t\t */\n\t\t\tcreatedRow(row, data) {\n\t\t\t\tconst templateDisable = '<div class=\"ui fitted toggle checkbox\">\\n' +\n\t\t\t\t\t'                <input type=\"checkbox\" '+(((''+data.disabled)==='0')?'checked=\"\"':'')+' tabindex=\"0\" class=\"hidden\"> <label></label>\\n' +\n\t\t\t\t\t'                </div>';\n\t\t\t\tconst templateName =\n\t\t\t\t\t'<div class=\"ui transparent fluid input inline-edit\">' +\n\t\t\t\t\t`<input class=\"external-name\" type=\"text\" data-value=\"${data.name}\" value=\"${data.name}\">` +\n\t\t\t\t\t'</div>';\n\n\t\t\t\tconst templateNumber =\n\t\t\t\t\t'<div class=\"ui transparent fluid input inline-edit\">' +\n\t\t\t\t\t`<input class=\"external-number\" type=\"text\" data-value=\"${data.number}\" value=\"${data.number}\">` +\n\t\t\t\t\t'</div>';\n\n\t\t\t\tconst templateDid =\n\t\t\t\t\t'<div class=\"ui transparent input inline-edit\">' +\n\t\t\t\t\t`<input class=\"external-aliases\" type=\"text\" data-value=\"${data.alias}\" value=\"${data.alias}\">` +\n\t\t\t\t\t'</div>';\n\n\t\t\t\tconst templateDeleteButton = '<div class=\"ui small basic icon buttons action-buttons\">' +\n\t\t\t\t\t`<a href=\"#\" data-value = \"${data.id}\"` +\n\t\t\t\t\t` class=\"ui button delete two-steps-delete popuped\" data-content=\"${globalTranslate.bt_ToolTipDelete}\">` +\n\t\t\t\t\t'<i class=\"icon trash red\"></i></a></div>';\n\n\t\t\t\t$('td', row).eq(0).html(templateDisable);\n\t\t\t\t$('td', row).eq(1).html(templateName);\n\t\t\t\t$('td', row).eq(2).html(templateNumber);\n\t\t\t\t$('td', row).eq(3).html(templateDid);\n\t\t\t\t$('td', row).eq(4).html(templateDeleteButton);\n\t\t\t},\n\t\t\t/**\n\t\t\t * Draw event - fired once the table has completed a draw.\n\t\t\t */\n\t\t\tdrawCallback() {\n\t\t\t\tModuleBitrix24Integration.initializeInputmask($(ModuleBitrix24Integration.inputNumberJQTPL));\n\t\t\t\tModuleBitrix24Integration.$recordsTable.find('div.checkbox').checkbox(\n\t\t\t\t\t{\n\t\t\t\t\t\tonChange() {\n\t\t\t\t\t\t\tForm.$formObj.form('set value', 'dirrty', Math.random());\n\t\t\t\t\t\t\tForm.checkValues();\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t},\n\t\t\tlanguage: SemanticLocalization.dataTableLocalisation,\n\t\t\tordering: false,\n\t\t});\n\t\tModuleBitrix24Integration.dataTable = ModuleBitrix24Integration.$recordsTable.DataTable();\n\n\t\t// Двойной клик на поле ввода номера\n\t\t$('body').on('focusin', '.external-name, .external-number, .external-aliases ', (e) => {\n\t\t\t$(e.target).transition('glow');\n\t\t\t$(e.target).closest('div')\n\t\t\t\t.removeClass('transparent')\n\t\t\t\t.addClass('changed-field');\n\t\t\t$(e.target).attr('readonly', false);\n\t\t\tModuleBitrix24Integration.$dirrtyField.val(Math.random());\n\t\t\tModuleBitrix24Integration.$dirrtyField.trigger('change');\n\n\t\t\tForm.$formObj.form('set value', 'dirrty', Math.random());\n\t\t\tForm.checkValues();\n\t\t});\n\n\t\t// Отправка формы на сервер по уходу с поля ввода\n\t\t$('body').on('focusout', '.external-name, .external-number, .external-aliases', (e) => {\n\t\t\t$(e.target).closest('div')\n\t\t\t\t.addClass('transparent')\n\t\t\t\t.removeClass('changed-field');\n\t\t\t$(e.target).attr('readonly', true);\n\t\t\tModuleBitrix24Integration.$dirrtyField.val(Math.random());\n\t\t\tModuleBitrix24Integration.$dirrtyField.trigger('change');\n\n\t\t\tForm.$formObj.form('set value', 'dirrty', Math.random());\n\t\t\tForm.checkValues();\n\t\t});\n\n\t\t// Клик на кнопку удалить\n\t\t$('body').on('click', 'a.delete', (e) => {\n\t\t\te.preventDefault();\n\t\t\t$(e.target).closest('tr').remove();\n\t\t\tif (ModuleBitrix24Integration.$recordsTable.find('tbody > tr').length===0){\n\t\t\t\tModuleBitrix24Integration.$recordsTable.find('tbody').append('<tr class=\"odd\"></tr>');\n\t\t\t}\n\t\t\tForm.$formObj.form('set value', 'dirrty', Math.random());\n\t\t\tForm.checkValues();\n\t\t});\n\n\t\t// Добавление новой строки\n\t\tModuleBitrix24Integration.$addNewButton.on('click', (e) => {\n\t\t\te.preventDefault();\n\t\t\t$('.dataTables_empty').remove();\n\t\t\tconst id = `new${Math.floor(Math.random() * Math.floor(500))}`;\n\t\t\tconst rowTemplate = `<tr id=\"${id}\" class=\"ext-line-row\">` +\n\t\t\t\t'<td><div class=\"ui fitted toggle checkbox\"><input type=\"checkbox\" checked=\"\" tabindex=\"0\" class=\"hidden\"> <label></label></div></td>' +\n\t\t\t\t'<td><div class=\"ui fluid input inline-edit changed-field\"><input class=\"external-name\" type=\"text\" data-value=\"\" value=\"\"></div></td>' +\n\t\t\t\t'<td><div class=\"ui input inline-edit changed-field\"><input class=\"external-number\" type=\"text\" data-value=\"\" value=\"\"></div></td>' +\n\t\t\t\t'<td><div class=\"ui input inline-edit changed-field\"><input class=\"external-aliases\" type=\"text\" data-value=\"\" value=\"\"></div></td>' +\n\t\t\t\t'<td><div class=\"ui small basic icon buttons action-buttons\">' +\n\t\t\t\t`<a href=\"#\" class=\"ui button delete two-steps-delete popuped\" data-value = \"new\" data-content=\"${globalTranslate.bt_ToolTipDelete}\">` +\n\t\t\t\t'<i class=\"icon trash red\"></i></a></div></td>' +\n\t\t\t\t'</tr>';\n\t\t\tModuleBitrix24Integration.$recordsTable.find('tbody > tr:first').before(rowTemplate);\n\t\t\t$(`tr#${id} input`).transition('glow');\n\t\t\t$(`tr#${id} .external-name`).focus();\n\t\t\tModuleBitrix24Integration.initializeInputmask($(`tr#${id} .external-number`));\n\t\t\tForm.$formObj.form('set value', 'dirrty', Math.random());\n\t\t\tForm.checkValues();\n\t\t});\n\n\t\t$('#open-cards-list option').each((index, obj) => {\n\t\t\t$(obj).html(globalTranslate[\"mod_b24_i_OPEN_CARD_\"+$(obj).val()]);\n\t\t});\n\t},\n\n\t/**\n\t * Подготавливает список выбора пользователей\n\t * @param selected\n\t * @returns {[]}\n\t */\n\tmakeDropdownList(selected) {\n\t\tconst values = [];\n\t\t$('#open-cards-list option').each((index, obj) => {\n\t\t\tif (selected === obj.text) {\n\t\t\t\tvalues.push({\n\t\t\t\t\tname: globalTranslate[\"mod_b24_i_OPEN_CARD_\"+obj.value],\n\t\t\t\t\tvalue: obj.value,\n\t\t\t\t\tselected: true,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tvalues.push({\n\t\t\t\t\tname: globalTranslate[\"mod_b24_i_OPEN_CARD_\"+obj.value],\n\t\t\t\t\tvalue: obj.value,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn values;\n\t},\n\n\t/**\n\t * Обработка изменения группы в списке\n\t */\n\tchangeCardModeInList(value, text, $choice) {\n\t\tModuleBitrix24Integration.$dirrtyField.val(Math.random());\n\t\tModuleBitrix24Integration.$dirrtyField.trigger('change');\n\t\tModuleBitrix24Integration.onChangeField()\n\t},\n\n\t/**\n\t * Изменение статуса кнопок при изменении статуса модуля\n\t */\n\tcheckStatusToggle() {\n\t\tif (ModuleBitrix24Integration.$statusToggle.checkbox('is checked')) {\n\t\t\t$('[data-tab = \"general\"] .disability').removeClass('disabled');\n\t\t\t$('[data-tab = \"users\"]').removeClass('disabled');\n\t\t\t$('[data-tab = \"external_lines\"]').removeClass('disabled');\n\t\t\t$('.disability').removeClass('disabled');\n\n\t\t\tModuleBitrix24Integration.$moduleStatus.show();\n\t\t\tModuleBitrix24IntegrationStatusWorker.initialize();\n\t\t} else {\n\t\t\tModuleBitrix24Integration.$moduleStatus.hide();\n\t\t\t$('.disability').addClass('disabled');\n\t\t\t$('[data-tab = \"general\"] .disability').addClass('disabled');\n\t\t\t$('[data-tab = \"users\"]').addClass('disabled');\n\t\t\t$('[data-tab = \"external_lines\"]').addClass('disabled');\n\t\t}\n\t},\n\n\t/**\n\t * Инициализирует красивое представление номеров\n\t */\n\tinitializeInputmask($el) {\n\t\tif (ModuleBitrix24Integration.$maskList === null) {\n\t\t\t// Подготовим таблицу для сортировки\n\t\t\tModuleBitrix24Integration.$maskList = $.masksSort(InputMaskPatterns, ['#'], /[0-9]|#/, 'mask');\n\t\t}\n\t\t$el.inputmasks({\n\t\t\tinputmask: {\n\t\t\t\tdefinitions: {\n\t\t\t\t\t'#': {\n\t\t\t\t\t\tvalidator: '[0-9]',\n\t\t\t\t\t\tcardinality: 1,\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tshowMaskOnHover: false,\n\t\t\t\t// oncleared: extension.cbOnClearedMobileNumber,\n\t\t\t\toncomplete: ModuleBitrix24Integration.cbOnCompleteNumber,\n\t\t\t\t// clearIncomplete: true,\n\t\t\t\tonBeforePaste: ModuleBitrix24Integration.cbOnNumberBeforePaste,\n\t\t\t\t// regex: /\\D+/,\n\t\t\t},\n\t\t\tmatch: /[0-9]/,\n\t\t\treplace: '9',\n\t\t\tlist: ModuleBitrix24Integration.$maskList,\n\t\t\tlistKey: 'mask',\n\n\t\t});\n\t},\n\t/**\n\t * Очистка номера перед вставкой от лишних символов\n\t * @returns {boolean|*|void|string}\n\t */\n\tcbOnNumberBeforePaste(pastedValue) {\n\t\treturn pastedValue.replace(/\\D+/g, '');\n\t},\n\t/**\n\t * После ввода номера\n\t */\n\tcbOnCompleteNumber(e){\n\t\tconst didEl = $(e.target).closest('tr').find('input.external-aliases');\n\t\tif (didEl.val()===''){\n\t\t\tdidEl.val($(e.target).inputmask('unmaskedvalue'));\n\t\t}\n\t},\n\t/**\n\t * Колбек перед отправкой формы\n\t * @param settings\n\t * @returns {*}\n\t */\n\tcbBeforeSendForm(settings) {\n\t\tconst result = settings;\n\t\tresult.data = ModuleBitrix24Integration.$formObj.form('get values');\n\n\t\tconst arrExternalLines = [];\n\t\t$('#external-line-table tr[id]').each((index, obj) => {\n\t\t\tarrExternalLines.push({\n\t\t\t\tdisabled: $(obj).find('div.checkbox').checkbox('is checked') === false,\n\t\t\t\tid: $(obj).attr('id'),\n\t\t\t\tname: $(obj).find('input.external-name').val(),\n\t\t\t\tnumber: $(obj).find('input.external-number').val(),\n\t\t\t\talias: $(obj).find('input.external-aliases').val(),\n\t\t\t});\n\t\t});\n\t\tresult.data.externalLines = JSON.stringify(arrExternalLines);\n\t\tresult.data.portal = result.data.portal.replace(/^(https?|http):\\/\\//, '');\n\n\t\tconst arrUsers = [];\n\t\t$('#extensions-table tr').each((index, obj) => {\n\t\t\tlet uname = $(obj).find('td input[type=\"checkbox\"]').attr('name');\n\t\t\tif(uname === undefined){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tarrUsers.push({\n\t\t\t\tid: $(obj).attr('id'),\n\t\t\t\tuser_id: uname.replace('user-',''),\n\t\t\t\topen_card_mode: $(obj).find('td div.select-group').dropdown('get value'),\n\t\t\t\tdisabled: $(obj).find('td div.checkbox').checkbox('is unchecked'),\n\t\t\t\tcomment: $(obj).find('td').eq(3).text()\n\t\t\t});\n\t\t});\n\t\tresult.data.arrUsers = JSON.stringify(arrUsers);\n\t\treturn result;\n\t},\n\n\t/**\n\t * Колбек после отправки формы\n\t */\n\tcbAfterSendForm() {\n\t\tModuleBitrix24IntegrationStatusWorker.initialize();\n\t},\n\tinitializeForm() {\n\t\tForm.$formObj = ModuleBitrix24Integration.$formObj;\n\t\tForm.url = `${globalRootUrl}module-bitrix24-integration/save`;\n\t\tForm.validateRules = ModuleBitrix24Integration.validateRules;\n\t\tForm.cbBeforeSendForm = ModuleBitrix24Integration.cbBeforeSendForm;\n\t\tForm.cbAfterSendForm = ModuleBitrix24Integration.cbAfterSendForm;\n\t\tForm.initialize();\n\t},\n};\n\n$(document).ready(() => {\n\tModuleBitrix24Integration.initialize();\n});\n\n"],"mappings":"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","ignoreList":[]}